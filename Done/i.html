<!DOCTYPE html>
<html lang="hi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Voice Quiz</title>
  <style>
    body {

      font-family: sans-serif;
      background: #f0f4f8;
      padding: 20px;
      font-size: xx-large;
      text-align: center;
      overflow: hidden;
      font-weight: bold;
    }

    .scroll{
      height: 600px;
      width: 1060px;
      text-align: left;
      padding-left: 12%;
      border: 8px solid #de0000;
      border-radius: 10px;
    }
    #background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }

    .bubble {
      position: absolute;
      bottom: -100px;
      width: 40px;
      height: 40px;
      background: rgba(173, 216, 230, 0.5);
      border-radius: 50%;
      animation: floatUp 10s linear infinite;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0);
        opacity: 1;
      }

      100% {
        transform: translateY(-120vh);
        opacity: 0;
      }
    }

    #questionBox {
      margin-bottom: 30px;
      display: inline-block;
      padding: 10px 20px;
      animation: slideIn 1s ease;

    }

    @keyframes slideIn {
      0% {
        transform: translateX(100vw);
        opacity: 0;
      }

      100% {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .option {
      opacity: 0;
      transform: translateY(30px);
      background: transparent;
      padding: 15px;
      margin: 10px;
      width: 250px;

      border-radius: 10px;
      transition: all 0.5s ease;
      cursor: pointer;
      align-items: left;
    }

    .option.show {
      opacity: 1;
      transform: translateY(0);
    }

    #startBtn {
      
      background: #007bff;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 20px 10px;
    }

    #countdown {
      margin-top: 20px;
      color: #333;
    }




    #navButtons {
  position: fixed;
  bottom: 10px;
  right: 10px;
  display: none;
  z-index: 100;
}

#navButtons button {
  
  font-size: 16px;
  margin: 5px;
  background-color: #28a745;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}


#dragImage {
  position: fixed;
  top: 100px;
  left: 100px;
  width: 250px;
  height: 250px;
  z-index: 9999;
  cursor: move;
  display: none;
}

  </style>
</head>

<body>


<img id="dragImage" src="CLMLogo.png" alt="draggable" />


  <div class="scroll">

    <div id="navButtons" style="margin-top: 20px; display: none;">


      <button id="startBtn">Start Quiz üé§</button>
      <button id="prevBtn">‚è™ Previous</button>
      <button id="nextBtn">Next ‚è©</button>
    </div>

    <div id="background"></div>

    <h2 id="questionBox">‡§∏‡§µ‡§æ‡§≤ ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§è‡§ó‡§æ</h2>

    <div class="option" id="opt0"></div>
    <div class="option" id="opt1"></div>
    <div class="option" id="opt2"></div>
    <div class="option" id="opt3"></div>

    <div id="countdown"></div>

    
  </div>
  <script src="questions.js"></script>
  <script>


const dragImage = document.getElementById("dragImage");
let isDragging = false, offsetX = 0, offsetY = 0;

dragImage.addEventListener("mousedown", function (e) {
  isDragging = true;
  offsetX = e.clientX - dragImage.offsetLeft;
  offsetY = e.clientY - dragImage.offsetTop;
});

document.addEventListener("mousemove", function (e) {
  if (isDragging) {
    dragImage.style.left = (e.clientX - offsetX) + "px";
    dragImage.style.top = (e.clientY - offsetY) + "px";
  }
});

document.addEventListener("mouseup", function () {
  isDragging = false;
});









    const read = true;
    let currentIndex = 0;

    function createBubbles() {
      const bg = document.getElementById("background");
      for (let i = 0; i < 30; i++) {
        const bubble = document.createElement("div");
        bubble.classList.add("bubble");
        bubble.style.left = Math.random() * 100 + "%";
        bubble.style.width = bubble.style.height = Math.random() * 40 + 20 + "px";
        bubble.style.animationDuration = (Math.random() * 5 + 5) + "s";
        bubble.style.background = `rgba(173, 216, 230, ${Math.random() * 0.5 + 0.3})`;
        bg.appendChild(bubble);
      }
    }

    function speakText(text, callback = null) {
      const msg = new SpeechSynthesisUtterance();
      msg.text = text;
      msg.lang = 'hi-IN';
      msg.rate = 0.9;
      msg.pitch = 1;
      msg.onend = () => callback && callback();

      if (read && 'speechSynthesis' in window) {
        window.speechSynthesis.cancel();
        window.speechSynthesis.speak(msg);
      } else if (callback) {
        setTimeout(callback, 1000);
      }
    }



    function showQuestion(index) {
      const q = cardsData[index];
      const questionBox = document.getElementById("questionBox");
      questionBox.style.animation = 'none';
      void questionBox.offsetWidth; // trigger reflow
      questionBox.style.animation = null;
      questionBox.textContent = `Q${index + 1}: ${q.question}`;

      q.options.forEach((opt, i) => {
        const el = document.getElementById("opt" + i);
        el.textContent = opt;
        el.classList.remove("show");
        el.style.backgroundColor = "transparent";
        el.style.color = "black";
      });

      speakText(q.question, () => {
        showAndSpeakOptions(q.options, 0);
      });
    }

    function showAndSpeakOptions(options, i) {
      if (i >= options.length) {
        startCountdown();
        return;
      }

      const el = document.getElementById("opt" + i);
      el.classList.add("show");
      speakText(options[i], () => {
        setTimeout(() => showAndSpeakOptions(options, i + 1), 200);
      });
    }

    function startCountdown() {
      let seconds = 5;
      const countdownEl = document.getElementById("countdown");
      countdownEl.textContent = `‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡§ø‡§ñ ‡§∞‡§π‡§æ ‡§π‡•à ${seconds} ‡§∏‡•á‡§ï‡§Ç‡§° ‡§Æ‡•á‡§Ç...`;

      const timer = setInterval(() => {
        seconds--;
        if (seconds > 0) {
          countdownEl.textContent = `‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡§ø‡§ñ ‡§∞‡§π‡§æ ‡§π‡•à ${seconds} ‡§∏‡•á‡§ï‡§Ç‡§° ‡§Æ‡•á‡§Ç...`;
        } else {
          clearInterval(timer);
          countdownEl.textContent = "‚úÖ ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡§ø‡§ñ ‡§∞‡§π‡§æ ‡§π‡•à...";
          highlightAnswer();
          setTimeout(() => {
            currentIndex++;
            if (currentIndex < cardsData.length) {
              countdownEl.textContent = "";
              showQuestion(currentIndex);
            } else {
              document.getElementById("startBtn").style.display = "flex";
              document.getElementById("questionBox").textContent = "Quiz ‡§ñ‡§§‡•ç‡§Æ ‡§π‡•ã ‡§ó‡§Ø‡§æ üéâ";
              ["opt0", "opt1", "opt2", "opt3"].forEach(id => {
                document.getElementById(id).style.display = 'none';
              });
              countdownEl.textContent = "";
            }
          }, 2000);
        }
      }, 1000);
    }

    function highlightAnswer() {
      const correct = cardsData[currentIndex].rightAnswer;
      const index = { 'A': 0, 'B': 1, 'C': 2, 'D': 3 }[correct];
      const el = document.getElementById("opt" + index);
      el.style.backgroundColor = "#28a745";
      el.style.color = "white";
      speakText(el.textContent);
    }

    document.getElementById("startBtn").addEventListener("click", () => {
      document.getElementById("startBtn").style.display = "none";
      createBubbles();

      speakText(
        '‡§®‡§Æ‡§∏‡•ç‡§∏‡§ï‡§æ‡§∞ ‡§¶‡•ã‡§∏‡•ç‡§§‡•ã‡§Ç! ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à ‡§Ü‡§™‡§ï‡•á ‡§Ö‡§™‡§®‡•á GK Quiz ‡§Æ‡•á‡§Ç‡•§\n' +
        '‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§™‡§ï‡•ã ‡§Æ‡§ø‡§≤‡•á‡§Ç‡§ó‡•á ‡§Æ‡§ú‡§º‡•á‡§¶‡§æ‡§∞ ‡§î‡§∞ ‡§¶‡§ø‡§Æ‡§æ‡§ó‡•Ä ‡§∏‡§µ‡§æ‡§≤, ‡§π‡§∞ ‡§∏‡§µ‡§æ‡§≤ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ö‡§æ‡§∞ ‡§ë‡§™‡•ç‡§∂‡§®‡•§\n' +
        '‡§ß‡•ç‡§Ø‡§æ‡§® ‡§∏‡•á ‡§∏‡•Å‡§®‡§ø‡§è... ‡§∏‡•ã‡§ö ‡§∏‡§Æ‡§ù‡§ï‡§∞ ‡§ú‡§µ‡§æ‡§¨ ‡§¶‡•Ä‡§ú‡§ø‡§è‡•§\n' +

        '‡§Ö‡§ó‡§∞ ‡§Ü‡§™‡§ï‡•ã ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§™‡§∏‡§Ç‡§¶ ‡§Ü‡§è, ‡§§‡•ã ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§ï‡•ã ‡§≤‡§æ‡§á‡§ï ‡§ú‡§∞‡•Ç‡§∞ ‡§ï‡•Ä‡§ú‡§ø‡§è...\n' +
        '‡§î‡§∞ ‡§ê‡§∏‡•á ‡§π‡•Ä ‡§ï‡§Æ‡§æ‡§≤ ‡§ï‡•á ‡§∏‡§µ‡§æ‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ö‡•à‡§®‡§≤ ‡§ï‡•ã ‡§∏‡§¨‡•ç‡§∏‡§ï‡•ç‡§∞‡§æ‡§á‡§¨ ‡§ï‡§∞‡§®‡§æ ‡§Æ‡§§ ‡§≠‡•Ç‡§≤‡§ø‡§è‡•§\n' +
        '‡§§‡•ã ‡§ö‡§≤‡§ø‡§è ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç... ‡§Ü‡§™‡§ï‡§æ ‡§Ü‡§ú ‡§ï‡§æ GK Quiz!', () => {
          showQuestion(currentIndex);
        });

    });

    document.getElementById("navButtons").style.display = "block";

    document.getElementById("prevBtn").addEventListener("click", () => {
      if (currentIndex > 0) {
        currentIndex--;
        document.getElementById("countdown").textContent = "";
        showQuestion(currentIndex);
      }
    });

    document.getElementById("nextBtn").addEventListener("click", () => {
      if (currentIndex < cardsData.length - 1) {
        currentIndex++;
        document.getElementById("countdown").textContent = "";
        showQuestion(currentIndex);
      }
    });



  </script>
</body>

</html>
<!-- cart.html -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Cart</title>
  <link rel="stylesheet" href="vcss/style.css">
</head>

<body>
  <h2>ğŸ›’ Your Cart</h2>
  <div id="cartItems"></div>
  <p>Total: â‚¹<span id="total">0</span></p>
  <button onclick="checkoutOrder()">âœ… Checkout</button>

  <script>
   
  let cart = JSON.parse(localStorage.getItem('cart')) || [];

function loadCart() {
  const cartItemsDiv = document.getElementById('cartItems');
  cartItemsDiv.innerHTML = '';
  let total = 0;

  cart.forEach((item, index) => {
    total += item.price;

    const itemDiv = document.createElement('div');
    itemDiv.className = 'cart-item';
    itemDiv.innerHTML = `
      <strong>${item.name}</strong> - â‚¹${item.price}
      <button onclick="removeFromCart(${index})">âŒ Remove</button>
    `;
    cartItemsDiv.appendChild(itemDiv);
  });

  document.getElementById('total').innerText = total;
}

function removeFromCart(index) {
  cart.splice(index, 1);
  localStorage.setItem('cart', JSON.stringify(cart));
  loadCart(); // âœ… reload and recalculate total
}

// Load cart on page load
window.onload = loadCart;




    function checkoutOrder() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      if (cart.length === 0) {
        alert('ğŸ›’ Your cart is empty!');
        return;
      }

      let message = "Order Summary:%0A"; // %0A is newline in WhatsApp
      let total = 0;

      cart.forEach(item => {
        message += `- ${item.name} - â‚¹${item.price}%0A`;
        total += item.price;
      });

      message += `%0AğŸ§¾ Total: â‚¹${total}`;

      const whatsappLink = `https://wa.me/916387851637?text=${message}`;
      window.open(whatsappLink, '_blank');
    }

  </script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Image Text Detector</title>
</head>
<body>
  <h2>🖼️ Upload Image to Detect Text</h2>
  <input type="file" id="imageInput" accept="image/*"><br><br>
  <img id="preview" style="max-width: 300px;"><br><br>
  <button onclick="detectText()">📤 Detect Text</button>

  <h3>📄 Detected Text:</h3>
  <pre id="output"></pre>

  <!-- Tesseract.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>

  <script>
    const imageInput = document.getElementById('imageInput');
    const preview = document.getElementById('preview');
    const output = document.getElementById('output');

    let selectedImage = null;

    imageInput.addEventListener('change', function (e) {
      const file = e.target.files[0];
      if (file) {
        selectedImage = URL.createObjectURL(file);
        preview.src = selectedImage;
      }
    });

    function detectText() {
      if (!selectedImage) {
        alert("⚠️ Pehle image upload karo!");
        return;
      }

      output.textContent = "⏳ Text detect kiya ja raha hai...";

      Tesseract.recognize(
        selectedImage,
        'eng', // English language
        {
          logger: m => console.log(m)
        }
      ).then(({ data: { text } }) => {
        output.textContent = text;
      }).catch(err => {
        output.textContent = "❌ Error: " + err.message;
      });
    }
  </script>
</body>
</html>
